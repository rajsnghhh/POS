<div class="page-header-main">
    <div class="row align-items-center justify-content-between">
        <div class="col-md-auto col-sm-auto">
            <div class="content-header">
                <h1>Manage Push Notification</h1>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-sm-12">
        <form [formGroup]="notificationForm">
            <div class="row">
                <div class="form-group col-md-6">
                    <label class="text-danger" for="title">Title *</label>
                    <input formControlName="title" type="text" class="form-control" id="title">
                    <div *ngIf="notificationForm.get('title').touched && notificationForm.get('title').errors">
                        <div class="text-danger" *ngIf="notificationForm.get('title').errors?.required">
                            Title is required
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="form-group col-md-6">
                    <label class="text-danger" for="body"> {{'MESSAGE' | translate}} *</label>
                    <textarea class="form-control" formControlName="body" id="body" cols="30"></textarea>
                    <div *ngIf="notificationForm.get('body').touched && notificationForm.get('body').errors">
                        <div class="text-danger" *ngIf="notificationForm.get('body').errors?.required">
                            Massage is required
                        </div>
                    </div>
                </div>
                <div class="form-group col-md-4">
                        <label class="text-danger">Send To *</label>
                        <mat-select #select multiple class="form-control" placeholder="Select Customer">
                            <div class="select-all">
                                <mat-checkbox [(ngModel)]="allSelected" [ngModelOptions]="{standalone: true}"
                                    (change)="toggleAllSelection()">Select All</mat-checkbox>
                            </div>
                            <mat-option (click)="optionClick()" *ngFor="let customer of customers" [value]="customer.deviceKey">
                                {{customer.customerName}} ({{customer.mobileNo}})
                            </mat-option>
                        </mat-select>
                </div>
            </div>

            <div class="row">
                <div class="mt-2 col-md-12">
                    <button (click)="createNotification()" type="submit" class="btn btn-success btn-sm m-right-10"><i
                            class="fas fa-save"></i>
                        {{'SAVE' | translate}}</button>
                </div>
            </div>
        </form>
    </div>
</div>
<div class="loading-shade" *ngIf="isLoading">
    <mat-spinner></mat-spinner>
</div>