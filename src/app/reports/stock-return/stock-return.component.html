<div class="page-header-main">
  <div class="row align-items-center justify-content-between">
    <div class="col-md-auto col-sm-auto col">
      <div class="content-header">
        <h1>Stock Return Report </h1>
      </div>
    </div>
  </div>
</div>

<div class="row">
  <div class="col-sm-12 mb-3">
    <form [formGroup]="searchForm">
      <div class="row">
        <div class="col-md-2">
          <div class="form-group">
            <label for="fromDate">From Date </label>
            <input class="form-control" id="fromDate" [max]="currentDate" formControlName="fromDate"
              [owlDateTimeTrigger]="fromDate" [owlDateTime]="fromDate" placeholder="From Date">
            <owl-date-time [pickerType]="'calendar'" #fromDate></owl-date-time>
          </div>
        </div>
        <div class="col-md-2">
          <div class="form-group">
            <label for="toDate">To Date </label>
            <input class="form-control" id="toDate" [max]="currentDate" formControlName="toDate"
              [owlDateTimeTrigger]="toDate" [owlDateTime]="toDate" placeholder="To Date">
            <owl-date-time [pickerType]="'calendar'" #toDate></owl-date-time>
          </div>
        </div>
        <div class="col-md-2">
          <div class="form-group">
            <label for="supplier">Supplier</label>
            <mat-select formControlName="supplierId" placeholder="Select Supplier" class="form-control">
              <input class="form-control w-100" formControlName="filterSupplierValue" focused="'true'" type="text"
                autocomplete="off" placeholder="Search Supplier">
              <mat-divider></mat-divider>
              <mat-option *ngFor="let a of suppliers" [value]="a.id">
                {{a.supplierName}}
              </mat-option>
              <mat-option [value]="" *ngIf="suppliers?.length==0">
                No Records
              </mat-option>
            </mat-select>
          </div>
        </div>
        <div class="col-md-6 report-tool-bar">
          <button type="submit" (click)="onSearch()" class="btn btn-primary btn-sm m-right-10"><i
              class="fas fa-search"></i> Search
          </button>
          <button type="submit" (click)="onClear()" class="btn btn-danger btn-sm m-right-10"><i
              class="fas fa-eraser"></i>
            Clear
          </button>
          <button type="submit" (click)="PrintBtnClick()" class="btn btn-warning btn-sm m-right-10"><i
              class="fas fa-download"></i> Print
          </button>
        </div>

      </div>
      <div class="row">
        <div class="col-sm-12">
          <div *ngIf="searchForm.errors">
            <div class="text-danger" *ngIf="searchForm.errors?.dateRange">
              From Date should be greater than To Date
            </div>
          </div>
        </div>
      </div>
    </form>
  </div>
</div>

<div id="registration" class="table-responsive fulltable">

  <div style="text-align: center;align-content: center;" *ngIf="searchForm.get('fromDate').value && searchForm.get('toDate').value">
    <b>Date : {{searchForm.get('fromDate').value | date:'dd-MM-YYYY'}} to {{searchForm.get('toDate').value |
      date:'dd-MM-YYYY'}}</b>
  </div>
  <div class="tableData">
    <label><b><u>STOCK WASTAGE</u></b></label>
    <table class="table table-bordered table-hover">
      <tr>
        <th>SUPPLIER NAME</th>
        <th>AMOUNT</th>
      </tr>
      <tr *ngFor="let waste of wasteDataSummery">
        <td>{{waste.supplierName}}</td>
        <td>{{waste.totalAmount | number : '1.2-2'}}</td>
      </tr>
      <tr>
        <td>TOTAL</td>
        <td>{{totalWasteSummaryValue | number : '1.2-2'}}</td>
      </tr>
    </table>


    <label><b><u>STOCK EXPIRED</u></b></label>
    <table class="table table-bordered table-hover">
      <tr>
        <th>SUPPLIER NAME</th>
        <th>AMOUNT</th>
      </tr>

      <tr *ngFor="let expire of expireDataSummery">
        <td>{{expire.supplierName}}</td>
        <td>{{expire.totalAmount | number : '1.2-2'}}</td>
      </tr>
      <tr>
        <td>TOTAL</td>
        <td>{{totalExpireSummaryValue | number : '1.2-2'}}</td>
      </tr>
    </table>


    <label><b><u>STOCK RETURN</u></b></label>
    <table class="table table-bordered table-hover">
      <tr>
        <th>SUPPLIER NAME</th>
        <th>AMOUNT</th>
      </tr>

      <tr *ngFor="let returndata of returnDataSummery">
        <td>{{returndata.supplierName}}</td>
        <td>{{returndata.totalAmount | number : '1.2-2'}}</td>
      </tr>
      <tr>
        <td>TOTAL</td>
        <td>{{totalReturnSummaryValue | number : '1.2-2'}}</td>
      </tr>

    </table>
  </div>
</div>