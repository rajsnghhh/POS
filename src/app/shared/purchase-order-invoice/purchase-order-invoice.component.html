<div>
    <div style="width:100%;display:flex;">
        <div id="purchaseOrderInvoice">
            <div class="container" style="margin-right:auto;margin-left:auto;">

                <div style="text-align: center;align-content: center; margin-bottom: 10px;">
                    <p style="font-size: 12px;">
                        <span *ngIf="localStorageData.counter.counterNo=='2'"><b>SOUTHERN STAR BAKERY</b></span>
                        <span *ngIf="localStorageData.counter.counterNo=='1'"><b>NEEDS</b></span>
                    </p>
                    <span style="font-size: 10px;">GRN CHALLAN</span>
                </div>

                <div  style=" width: 100%;display: flex;flex-wrap: wrap; justify-content: space-between;margin-top: 8px;text-align: center;padding: 8px;">
                    <div style="display: flex;font-size: 8px; width: 25%;margin-bottom: 6px;">
                        GRN No :- {{purchaseOrderForInvoice?.orderNumber}}</div>

                    <div style="display: flex; font-size: 8px;width: 25%;margin-bottom: 6px;">
                        GRN Date :- {{purchaseOrderForInvoice?.poCreatedDate | utcToLocalTime:'shortDate'}}
                    </div>
                    <div style="display: flex;font-size: 8px;width: 20%;margin-bottom: 6px;">
                        Invoice No :- {{purchaseOrderForInvoice?.invoiceNo}}
                    </div>
                    <div style="display: flex;font-size: 8px;width: 30%;margin-bottom: 6px;">
                        Supplier Name :- {{purchaseOrderForInvoice?.supplier?.supplierName}}
                    </div>
                </div>


                <!-- <div class="brand-section">
                    <div class="row" style="display: flex;flex-wrap: wrap;">
                        <div class="col-6" style="width: 50%;flex: 0 0 auto;">
                            <div>
                                <h3 *ngIf="isquatation" style="margin-bottom: 0px !important;">
                                    {{'PURCHASE_ORDER_REQUEST' | translate}}</h3>
                                <h3 *ngIf="!isquatation" style="margin-bottom: 0px !important;">
                                    {{'PURCHASE_ORDER_INVOICE' | translate}}</h3>
                                <span>{{purchaseOrderForInvoice?.orderNumber}}
                                </span>
                            </div>
                            <div>
                                <span> {{'ORDER_DATE' | translate}} :</span> {{purchaseOrderForInvoice?.poCreatedDate
                                | utcToLocalTime:'shortDate'}}<br>
                                <span> Invoice No :</span> {{purchaseOrderForInvoice?.invoiceNo}}
                            </div>
                        </div>
                        <div class="col-6" style="width: 50%;flex: 0 0 auto;">
                            <div class="company-details" style="float: right;
                        text-align: right;">
                                <img *ngIf="!companyProfile.logoUrl" class="img-fluid" style="max-height:50px;
                              object-position: left;" src="../../../assets/images/logo.png" />
                                <img *ngIf="companyProfile.logoUrl" class="img-fluid" style="max-height:50px;
                              object-position: left;" [src]="companyProfile.logoUrl" />
                            </div>
                        </div>
                    </div>
                </div>
                <div class="body-section" style="padding:10px 10px 20px 20px;border: 1px solid gray;margin-top:8px;margin-bottom: 10px;">
                    <div class="row" style="display:flex;flex-wrap: wrap;">
                        <div class="col-8" style="width:50%;flex: 0 0 auto;">
                            <h4 class="heading" style="margin-bottom: 2px;">{{'TO' | translate}},</h4>
                            <b>{{purchaseOrderForInvoice?.supplier?.supplierName}}</b> <br>
                            <div *ngIf="purchaseOrderForInvoice.supplier?.billingAddress" style="width:50%;">
                                <span> {{purchaseOrderForInvoice.supplier.billingAddress?.address}} </span>
                            </div>
                            <div style="margin-top: 2px;">
                                <div *ngIf="purchaseOrderForInvoice?.supplier?.mobileNo">
                                    <b>{{'PHONE' | translate}}:</b>
                                    {{purchaseOrderForInvoice.supplier.mobileNo}} <br>
                                </div>
                                <div *ngIf="purchaseOrderForInvoice.supplier?.email">
                                    <b>{{'EMAIL' | translate}}:</b>
                                    {{purchaseOrderForInvoice.supplier?.email}}
                                </div>
                            </div>
                        </div>
                        <div class="col-4" style="width: 50%;flex: 0 0 auto;">
                            <h4 class="heading" style="margin-bottom: 2px;">{{'FROM' | translate}},</h4>
                            <b>{{companyProfile?.title}}</b> <br>
                            <div style="margin-top:3px;width: 60%;">
                                <div *ngIf="companyProfile?.address">
                                    {{companyProfile?.address}} <br>
                                </div>
                                <div style="margin-top: 2px;">
                                    <div *ngIf="companyProfile?.phone">
                                        <b>{{'PHONE' | translate}}:</b>
                                        {{companyProfile?.phone}} <br>
                                    </div>
                                    <div *ngIf="companyProfile?.email">
                                        <b>{{'EMAIL' | translate}}:</b>
                                        {{companyProfile?.email}}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div> -->
                <div class="body-section" style="width:98%;">
                    <table style="margin-left: 7px;width:100%;">
                        <thead>
                            <tr style="border:1px solid #dee2e6;background-color:#f2f2f2;">
                                <th style="padding-top:08px;font-size: 8px;padding-bottom:08px;border:1px solid #dee2e6;width:5%;">
                                    {{'NO.' | translate}}
                                </th>

                                <th class="w-20"
                                    style="padding-top:08px;font-size: 8px;padding-bottom:08px;border:1px solid #dee2e6;width:5%;">
                                    Code</th>

                                <th style="padding-top:08px;font-size: 8px;padding-bottom:08px;border:1px solid #dee2e6; width:20%;">
                                    Product Name</th>

                                <th class="w-20"
                                    style="padding-top:08px;font-size: 8px;padding-bottom:08px;border:1px solid #dee2e6;width:8%;">
                                    Qty </th>

                                <th class="w-20"
                                    style="padding-top:08px;font-size: 8px;padding-bottom:08px;border:1px solid #dee2e6;width:20%;">
                                    MRP</th>

                                <th class="w-20"
                                    style="padding-top:08px;font-size: 8px;padding-bottom:08px;border:1px solid #dee2e6;width:20%;">
                                    Pur Rate</th>
                                <th class="w-20"
                                    style="padding-top:08px;padding-bottom:08px;font-size: 8px;border:1px solid #dee2e6;width:20%;">
                                    Sale Rate</th>
                                <th class="w-20"
                                    style="padding-top:08px;padding-bottom:08px;font-size: 8px;border:1px solid #dee2e6;width:20%;">
                                    Margin</th>
                                <th class="w-20"
                                    style="padding-top:08px;padding-bottom:08px;font-size: 8px;border:1px solid #dee2e6;width:20%;">
                                    Pur Amt</th>
                                <th class="w-20"
                                    style="padding-top:08px;padding-bottom:08px;font-size: 8px;border:1px solid #dee2e6;width:20%;">
                                    Sale Amt</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let purchaseItem of purchaseOrderItems;let i=index">
                                <td style="vertical-align:middle!important; font-size: 6px;text-align:center;border:1px solid #dee2e6;">
                                    {{i+1}}</td>


                                <td
                                    style="width: 5%; font-size: 6px;vertical-align:middle!important;text-align:center;border:1px solid #dee2e6;">
                                    {{purchaseItem.product.code}}</td>



                                <td style="vertical-align:middle!important;font-size: 6px;text-align:center;border:1px solid #dee2e6;">
                                    {{purchaseItem.productName}}</td>

                                <td style="vertical-align:middle!important;text-align:center;font-size: 6px;border:1px solid #dee2e6;">
                                    {{purchaseItem.quantity}}<br> <span
                                        style="font-size: 6px;">({{purchaseItem.unitName}})</span></td>

                                <td style="vertical-align:middle!important;font-size: 6px;text-align:center;border:1px solid #dee2e6;">
                                    {{purchaseItem.mrp | customRound}}</td>
                                <td style="vertical-align:middle!important;font-size: 6px;text-align:center;border:1px solid #dee2e6;">
                                    {{purchaseItem.unitPrice | customRound}}</td>
                                <td style="vertical-align:middle!important;font-size: 6px;text-align:center;border:1px solid #dee2e6;">
                                    {{purchaseItem.salesPrice | customRound}}</td>

                                <td style="vertical-align:middle!important;font-size: 6px;text-align:center;border:1px solid #dee2e6;">
                                    {{purchaseItem.margin}}</td>

                                <td style="vertical-align:middle!important;font-size: 6px;text-align:center;border:1px solid #dee2e6;">
                                    {{(purchaseItem?.quantity * purchaseItem?.unitPrice) - purchaseItem.discount +
                                    purchaseItem.taxValue | customRound }}
                                </td>
                                <td style="vertical-align:middle!important;font-size: 6px;text-align:center;border:1px solid #dee2e6;">
                                    {{(purchaseItem?.quantity * purchaseItem?.salesPrice | customRound)}}
                                </td>
                            </tr>
                            <tr style="vertical-align:middle!important;border:1px solid #dee2e6;background-color: blanchedalmond;"
                                *ngIf="purchaseOrderReturnsItems.length > 0">
                                <td colspan="100%"><strong> {{'RETURNED_ITEMS' | translate}}</strong></td>
                            </tr>
                            <tr style="background-color: blanchedalmond;;"
                                *ngFor="let purchaseItem of purchaseOrderReturnsItems;let i=index">
                                <td style="vertical-align:middle!important;text-align:center;border:1px solid #dee2e6;">
                                    {{i+1}}</td>
                                <td style="vertical-align:middle!important;text-align:center;border:1px solid #dee2e6;">
                                    {{purchaseItem.productName}}</td>
                                <td style="vertical-align:middle!important;text-align:center;border:1px solid #dee2e6;">
                                    {{purchaseItem.unitPrice | customRound}}</td>
                                <td style="vertical-align:middle!important;text-align:center;border:1px solid #dee2e6;">
                                    {{purchaseItem.quantity}}<br> <span
                                        style="font-size: 6px;">({{purchaseItem.unitName}})</span></td>
                                <td style="vertical-align:middle!important;text-align:center;border:1px solid #dee2e6;">
                                    {{purchaseItem.discount | customRound}}</td>
                                <td style="vertical-align:middle!important;text-align:center;border:1px solid #dee2e6;">
                                    {{purchaseItem.taxValue | customRound}}<br>
                                    <span style="font-size: 6px;"
                                        *ngFor="let tax of purchaseItem.purchaseOrderItemTaxes;let last=last">
                                        {{tax.taxName}}({{tax.taxPercentage}}%) <span *ngIf="!last">, </span>
                                    </span>
                                </td>
                                <td style="vertical-align:middle!important;text-align:center;border:1px solid #dee2e6;">
                                    {{(purchaseItem?.quantity * purchaseItem?.unitPrice) - purchaseItem.discount +
                                    purchaseItem.taxValue | customRound }}
                                </td>
                            </tr>
                            <tr>
                                <td colspan="8" class="text-right"
                                    style="text-align:end;font-size: 8px;border:1px solid #dee2e6;font-weight: bold;">
                                    {{'TOTAL' | translate}}
                                </td>
                                <td style="text-align:end;font-size: 8px;border:1px solid #dee2e6;font-weight: bold;">
                                    {{purchaseOrderForInvoice.totalAmount | customRound}}</td>

                                <td style="text-align:end;font-size: 8px;border:1px solid #dee2e6;font-weight: bold;">
                                    {{saleAmount | customRound}}</td>
                            </tr>
                            <tr>
                                <td colspan="9" class="text-right"
                                    style="text-align:end;font-size: 8px;border:1px solid #dee2e6;font-weight: bold;">
                                    Difference </td>
                                <td style=" text-align:end;font-size: 8px;border:1px solid #dee2e6;">
                                    {{saleAmount-purchaseOrderForInvoice.totalAmount | customRound}}
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <div *ngIf="purchaseOrderForInvoice.termAndCondition"
                        style="display:flex;flex-wrap: wrap;margin-top: 20px;">
                        <h5 class="heading" style="margin-top:2px;">{{'TERM_AND_CONDITION' | translate}}::</h5>
                        {{purchaseOrderForInvoice.termAndCondition}}
                    </div>
                    <!-- <div *ngIf="purchaseOrderForInvoice.termAndCondition"  style="display:flex;flex-wrap: wrap;margin-top: 5px; align-items:flex-start; font-size: 9px;">

                    </div> -->
                    <div *ngIf="purchaseOrderForInvoice.note" class="row"
                        style="display:flex;flex-wrap: wrap;margin-top: 20px;">
                        <h5 class="heading" style="margin-top:2px;">{{'NOTE' | translate}}::</h5>
                        {{purchaseOrderForInvoice.note}}
                    </div>
                    <!-- <div *ngIf="purchaseOrderForInvoice.note" class="row" style="display:flex;flex-wrap: wrap; align-items:flex-start; font-size: 9px;">

                    </div> -->
                    <div class="row" style="display:flex;flex-wrap: wrap;margin-top: 20px;">
                        <div class="col-8" style="width:60%;flex: 0 0 auto;margin-top: 10px;">
                            {{'PAYMENT_STATUS' | translate}}:{{purchaseOrderForInvoice.paymentStatus | paymentStatus}}
                        </div>
                        <div class="col-4" style="width:40%;">
                            ___________________________ <span style="margin-left:40px;">{{'AUTHORIZED_SIGNATURE' |
                                translate}}</span>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>